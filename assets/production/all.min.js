var processFootNotesToSideNotes=function(e){"use strict";var t=e.rootSel+" [id^="+e.footNoteAnchorIdStart+"]",t=document.querySelectorAll(t),d=[],c=1;Array.prototype.forEach.call(t,function(e){var t=e.querySelector("a"),n=t.getAttribute("href").replace("#",""),o=document.getElementById(n),r=o.querySelector('a[href^="#fnref"]');r.parentElement.removeChild(r);var a=document.createElement("aside");a.classList.add("sn-note"),a.setAttribute("data-ref",c),a.innerHTML=o.innerHTML;var i=document.createElement("label");i.className="sn-toggle-label",i.setAttribute("for","sn-note-"+n),i.textContent=t.textContent;r=document.createElement("input");r.type="checkbox",r.id="sn-note-"+n,r.className="sn-toggle";o=a.querySelector("img");!o||(t=o.getAttribute("alt"))&&((s=document.createElement("span")).className="caption",s.textContent=t,o.after(s));var s={};s.id=n,s.ref=e,s.label=i,s.input=r,s.node=a,s.num=c,d.push(s),c++});e=document.querySelectorAll(e.rootSel+" "+e.footNotesContainerSel);return Array.prototype.forEach.call(e,function(e){e.parentNode.removeChild(e)}),d},initializeFootnotes=function(e){"use strict";var t=processFootNotesToSideNotes(e||{rootSel:"#main",footNotesContainerSel:".footnotes",footNoteIdPattern:"fn:",footNoteAnchorIdStart:"fnref",sideNoteClass:"sn-note"});t.forEach(function(e){var t=e.ref.parentElement;t.insertBefore(e.label,e.ref),t.insertBefore(e.input,e.ref),t.insertBefore(e.node,e.ref),t.removeChild(e.ref)})};const wip=document.querySelector(".under");function setRandomPosition(e){var t=Math.round(Math.random()*(window.innerWidth-e.getBoundingClientRect().width)),n=Math.round(Math.random()*(window.innerHeight-e.getBoundingClientRect().height));e.style.left=t+"px",e.style.top=n+"px"}wip&&setRandomPosition(wip),document.body.onclick=e=>{var t;e.target.classList.contains("under")&&((t=e.target.cloneNode(!0)).classList.remove("open"),document.body.appendChild(t),setRandomPosition(t),e.target.classList.add("open"))};const headings=document.querySelectorAll(".expander");Array.prototype.forEach.call(headings,e=>{let t=e.querySelector("button"),n=e.nextElementSibling;"#contribute"==document.location.hash&&(t.setAttribute("aria-expanded",!0),n.hidden=!1),t.onclick=()=>{var e="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!e),n.hidden=e}});const article=document.querySelector("#main");article&&(initializeFootnotes(),article.onclick=e=>{const t=e.target;if(t.classList.contains("media-link")){if(e.preventDefault(),t.classList.contains("opened")){var n=document.querySelector("#figure-"+t.dataset.id);return n.parentElement.removeChild(n),void t.classList.remove("opened")}const a=document.createElement("figure");if(a.className="media-container",a.id="figure-"+t.dataset.id,"image"==t.dataset.type){const i=document.createElement("img");i.classname="media",a.appendChild(i),i.onload=()=>{var e=t.parentNode;e.parentNode.insertBefore(a,e.nextElementSibling),t.classList.add("opened")};n=t.getAttribute("href");i.src=n;n=t.dataset.alt;n&&i.setAttribute("alt",n)}if("video"==t.dataset.type){const s=document.createElement("video");s.classname="media",a.appendChild(s);var o=t.getAttribute("href");s.src=o,s.setAttribute("controls","true");var r=t.parentNode;r.parentNode.insertBefore(a,r.nextElementSibling),t.classList.add("opened")}o=t.nextElementSibling,r=t.dataset.source;if(o||r){const d=document.createElement("figcaption");o.matches(".media-caption")&&(d.innerHTML="<p>"+o.innerHTML+"</p>",a.appendChild(d)),r&&(d.innerHTML=d.innerHTML+'<a href="'+r+'">source</a>')}r=document.createElement("button");r.textContent="Ã—",r.className="close",a.appendChild(r),r.onclick=()=>{a.parentNode.removeChild(a),t.classList.remove("opened")}}});
//# sourceMappingURL=all.min.js.map
