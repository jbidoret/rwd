var processFootNotesToSideNotes=function(e){"use strict";var t=e.rootSel+" [id^="+e.footNoteAnchorIdStart+"]",t=document.querySelectorAll(t),d=[],c=1;Array.prototype.forEach.call(t,function(e){var t=e.querySelector("a"),n=t.getAttribute("href").replace("#",""),o=document.getElementById(n),r=o.querySelector('a[href^="#fnref"]');r.parentElement.removeChild(r);var a=document.createElement("aside");a.classList.add("sn-note"),a.setAttribute("data-ref",c),a.innerHTML=o.innerHTML;var i=document.createElement("label");i.className="sn-toggle-label",i.setAttribute("for","sn-note-"+n),i.textContent=t.textContent;r=document.createElement("input");r.type="checkbox",r.id="sn-note-"+n,r.className="sn-toggle";o=a.querySelector("img");!o||(t=o.getAttribute("alt"))&&((s=document.createElement("span")).className="caption",s.textContent=t,o.after(s));var s={};s.id=n,s.ref=e,s.label=i,s.input=r,s.node=a,s.num=c,d.push(s),c++});e=document.querySelectorAll(e.rootSel+" "+e.footNotesContainerSel);return Array.prototype.forEach.call(e,function(e){e.parentNode.removeChild(e)}),d},initializeFootnotes=function(e){"use strict";var t=processFootNotesToSideNotes(e||{rootSel:"#main",footNotesContainerSel:".footnotes",footNoteIdPattern:"fn:",footNoteAnchorIdStart:"fnref",sideNoteClass:"sn-note"});t.forEach(function(e){var t=e.ref.parentElement;t.insertBefore(e.label,e.ref),t.insertBefore(e.input,e.ref),t.insertBefore(e.node,e.ref),t.removeChild(e.ref)})};const wip=document.querySelector(".under");function setRandomPosition(e){var t=Math.round(Math.random()*(window.innerWidth-e.getBoundingClientRect().width)),n=Math.round(Math.random()*(window.innerHeight-e.getBoundingClientRect().height));e.style.left=t+"px",e.style.top=n+"px"}wip&&setRandomPosition(wip),document.body.onclick=e=>{var t;e.target.classList.contains("under")&&((t=e.target.cloneNode(!0)).classList.remove("open"),document.body.appendChild(t),setRandomPosition(t),e.target.classList.add("open"))};const headings=document.querySelectorAll(".expander");Array.prototype.forEach.call(headings,e=>{let t=e.querySelector("button"),n=e.nextElementSibling;"#contribute"==document.location.hash&&(t.setAttribute("aria-expanded",!0),n.hidden=!1),t.onclick=()=>{var e="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!e),n.hidden=e}});const article=document.querySelector("#main");article&&(initializeFootnotes(),article.onclick=e=>{const t=e.target;if(t.classList.contains("media-link")){if(e.preventDefault(),t.classList.contains("opened")){e=document.querySelector("#figure-"+t.dataset.id);return e.parentElement.removeChild(e),void t.classList.remove("opened")}const r=document.createElement("figure");if(r.className="media-container",r.id="figure-"+t.dataset.id,"image"==t.dataset.type){const a=document.createElement("img");a.classname="media",r.appendChild(a),a.onload=()=>{var e=t.parentNode;e.parentNode.insertBefore(r,e.nextElementSibling),t.classList.add("opened")};var n=t.getAttribute("href");a.src=n,(n=t.dataset.alt)&&a.setAttribute("alt",n)}if("video"==t.dataset.type){const i=document.createElement("video");i.classname="media",r.appendChild(i);var o=t.getAttribute("href");i.src=o,i.setAttribute("controls","true");o=t.parentNode;o.parentNode.insertBefore(r,o.nextElementSibling),t.classList.add("opened"),(n=t.dataset.alt)&&i.setAttribute("alt",n)}o=t.nextElementSibling,n=t.dataset.source;if(o||n){const s=document.createElement("figcaption");o.matches(".media-caption")&&(s.innerHTML="<p>"+o.innerHTML+"</p>",r.appendChild(s)),n&&(s.innerHTML=s.innerHTML+'<a href="'+n+'">source</a>')}n=document.createElement("button");n.textContent="Ã—",n.className="close",r.appendChild(n),n.onclick=()=>{r.parentNode.removeChild(r),t.classList.remove("opened")}}});
//# sourceMappingURL=all.min.js.map
